.TH TAXOWALK 1 "March 2025" "taxowalk" "User Commands"
.SH NAME
taxowalk \- classify product descriptions into the Shopify taxonomy
.SH SYNOPSIS
.B taxowalk
.RI [ options ]
.RI [ description ... ]
.SH DESCRIPTION
.B taxowalk
reads a product description from the command line or standard input and
uses the OpenAI \fBgpt-5-mini\fR model to traverse the Shopify product taxonomy.
The tool iteratively narrows down the most appropriate taxonomy node by offering
candidate categories to the language model at each level of the hierarchy.
.SH OPTIONS
.TP
.BR --stdin
Read the product description from standard input. Input must be piped; the
program will fail if the terminal is interactive and no data is provided.
.TP
.BR --openai-key =\fIKEY\fR
Explicitly set the OpenAI API key. When omitted the tool reads the key from
\fB$OPENAI_API_KEY\fR or \fB~/.openai.key\fR.
.TP
.BR --openai-base-url =\fIURL\fR
Override the OpenAI API base URL (useful for proxies or gateways).
.TP
.BR --taxonomy-url =\fIURL\fR
Specify an alternate taxonomy source. Both HTTPS URLs and filesystem paths
are supported. Defaults to the upstream Shopify taxonomy JSON.
.TP
.BR --history-db =\fIPATH\fR
Record token usage and classification history in the given SQLite database.
Use \fBtaxowalk-report\fR to analyse the recorded data.
.TP
.BR --debug
Enable verbose diagnostic logging on standard error.
.TP
.BR --refresh-taxonomy
Ignore any cached taxonomy file and fetch a fresh copy from the source URL.
Taxonomies downloaded from HTTPS sources are cached for 24 hours by default
under \fB$XDG_CACHE_HOME/taxowalk\fR.
.TP
.BR --show-leaf-name
Print the final taxonomy name (leaf category) after classification.
.TP
.BR --version
Print the taxowalk version and exit.
.SH EXIT STATUS
.TP
.B 0
Classification succeeded.
.TP
.B 1
An error occurred.
.SH EXAMPLES
Classify a product description provided as command line text:
.PP
.EX
$ taxowalk "Handmade leather tote bag"
.EX
.PP
Read the description from standard input:
.PP
.EX
$ cat product.txt | taxowalk --stdin
.EX
.SH FILES
.TP
~/.openai.key
Fallback location for the OpenAI API key, containing the key on a single line.
.SH SEE ALSO
.BR openai (1)
